<!DOCTYPE html>
<html>
<head>
  <title>index.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../doc-style.css" />
  <script src="../doc-filelist.js"></script>
  <script>
    var relativeDir = "../";
    var thisFile = "src/index.coffee";
    var defaultSidebar = true;
  </script>
  <script src="../doc-script.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1.0" /></head>
<body>
  <nav>
<div class="logo"><a href="http://alinex.github.io"
  onmouseover="logo.src='https://alinex.github.io/images/Alinex-200.png'"
  onmouseout="logo.src='https://alinex.github.io/images/Alinex-black-200.png'">
  <img name="logo" src="https://alinex.github.io/images/Alinex-black-200.png"
    width="150" title="Alinex Universe Homepage" />
  </a>
  <img src="http://alinex.github.io/images/Alinex-200.png"
    style="display:none" alt="preloading" />
</div>
<div class="links">
  <a href="http://alinex.github.io/blog"
    class="btn btn-primary"><span class="glyphicon-pencil"></span> Blog</a>
  <a href="http://alinex.github.io/develop"
    class="btn btn-primary"><span class="glyphicon-book"></span> Develop</a>
  <a href="http://alinex.github.io/code.html"
    class="btn btn-warning"><span class="glyphicon-cog"></span> Code</a>
</div>
</nav><div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#api-main-controller">API: Main Controller</a>
      </div>

      <div class="heading h2">
        <a href="#workflow">Workflow</a>
      </div>

      <div class="heading h2">
        <a href="#node-modules">Node Modules</a>
      </div>

      <div class="heading h2">
        <a href="#initialize-module-setup">Initialize Module - setup()</a>
      </div>

      <div class="heading h2">
        <a href="#create-documentation-run">Create Documentation - run()</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container" tabindex="0"><a id="fork" href="https://github.com/alinex/node-codedoc" title="Fork me on GitHub"></a>
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="api-main-controller">
  <h1>
    <a href="#api-main-controller" name="api-main-controller" class="pilcrow"></a>
API: Main Controller
  </h1>
</div>
</div>
<div class="body">
<blockquote>
<p>/src/index.coffee</p>
</blockquote>
<p>This class is loaded by the CLI call or from other packages and contains all
accessible methods neccessary to use the package.</p>
<div class="pilwrap" id="workflow">
  <h2>
    <a href="#workflow" name="workflow" class="pilcrow"></a>
Workflow
  </h2>
</div>
<p>The following graph will show you the basic steps in creating the documentation:</p>
<p>$$$ plantuml
:API Call;
:run|
:Find files]
note right
Includes and excludes
definable
end note
partition &quot;parallel run&quot; {
note right
for each
file
end note
:read file&lt;
:analyze language]
if (is markdown) then (yes)
:add as report]
else (no)
:extract
block comments]
:interpret JsDoc]
if (add code) then (no)
else (yes)
:add code]
note right
with highlights
end note
endif
endif
:report;
}
:sort documents]
partition &quot;parallel run&quot; {
:convert to html]
:write report&gt;
}
$$$</p>
<p>#3 Sorting</p>
<p>The file links are sorted in a natural way. This is from upper to lower directories
and alphabetically but with some defined orders. This means that 'index.*' always
comes before 'README.md' and the other files.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="node-modules">
  <h2>
    <a href="#node-modules" name="node-modules" class="pilcrow"></a>
Node Modules
  </h2>
</div>

        </td>
        <td class="code highlight">
          
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>include base modules</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">debug = <span class="hljs-built_in">require</span>(<span class="hljs-string">'debug'</span>) <span class="hljs-string">'codedoc'</span>
chalk = <span class="hljs-built_in">require</span> <span class="hljs-string">'chalk'</span>
path = <span class="hljs-built_in">require</span> <span class="hljs-string">'path'</span>
async = <span class="hljs-built_in">require</span> <span class="hljs-string">'async'</span>
isBinaryFile = <span class="hljs-built_in">require</span> <span class="hljs-string">'isbinaryfile'</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>include alinex modules</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span>
fs = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-fs'</span>
Report = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-report'</span>
config = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-config'</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>internal methods</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">language = <span class="hljs-built_in">require</span> <span class="hljs-string">'./language'</span>

PARALLEL = <span class="hljs-number">10</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="initialize-module-setup">
  <h2>
    <a href="#initialize-module-setup" name="initialize-module-setup" class="pilcrow"></a>
Initialize Module - setup()
  </h2>
</div>
<p>To use the template search through the <a href="http://alinex.github.io/node-config">alinex-config</a>
path module you have to init the template type by calling this method once.</p>
</div>
<div class="body">
<p>This will setup the <a href="http://alinex.github.io/node-report">alinex-report</a> component
and register the template type to search for templates in the global, user and
local path like known from the config module.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.setup = util.function.once <span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-params">(cb)</span> -&gt;</span>
  debug chalk.grey <span class="hljs-string">"setup codedoc component"</span>
  async.each [Report], <span class="hljs-function"><span class="hljs-params">(mod, cb)</span> -&gt;</span>
    mod.setup cb
  , <span class="hljs-function"><span class="hljs-params">(err)</span> -&gt;</span>
    <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>set module search path</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">    config.register <span class="hljs-string">'codedoc'</span>, path.dirname(__dirname),
      folder: <span class="hljs-string">'template'</span>
      type: <span class="hljs-string">'template'</span>
    cb()</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id="create-documentation-run">
  <h2>
    <a href="#create-documentation-run" name="create-documentation-run" class="pilcrow"></a>
Create Documentation - run()
  </h2>
</div>
<p>Like described in the workflow above this is the main routine and will do all the
steps to make the documentation ready to browse in the local path.</p>
</div>
<div class="body">
<p>::: alert
The method documentation in form of @tags will come soon.
:::</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">exports.run = <span class="hljs-function"><span class="hljs-params">(setup, cb)</span> -&gt;</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>set up system</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  setup.input ?= <span class="hljs-string">'.'</span>
  setup.input = path.resolve setup.input ? <span class="hljs-string">'.'</span>
  setup.output = path.resolve setup.output ? <span class="hljs-string">'.'</span>
  setup.find ?= {}
  setup.find.type = <span class="hljs-string">'file'</span>
  setup.brand ?= <span class="hljs-string">'alinex'</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>start converting</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">  <span class="hljs-built_in">console</span>.log <span class="hljs-string">"Output to <span class="hljs-subst">#{setup.output}</span>..."</span>
  fs.mkdirs setup.output, <span class="hljs-function"><span class="hljs-params">(err)</span> -&gt;</span>
    <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>start</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">    debug <span class="hljs-string">"search files in <span class="hljs-subst">#{setup.input}</span>"</span>
    fs.find setup.input, setup.find, <span class="hljs-function"><span class="hljs-params">(err, list)</span> -&gt;</span>
      <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err
      debug <span class="hljs-string">"convert files..."</span>
      map = {}
      async.eachLimit list, PARALLEL, <span class="hljs-function"><span class="hljs-params">(file, cb)</span> -&gt;</span>
        p = file[setup.input.length..]
        processFile file, p, setup, <span class="hljs-function"><span class="hljs-params">(err, report)</span> -&gt;</span>
          <span class="hljs-keyword">if</span> err
            <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err <span class="hljs-keyword">instanceof</span> Error
            <span class="hljs-keyword">return</span> cb() <span class="hljs-comment"># no real problem but abort</span>
          map[p] =
            report: report
            dest: <span class="hljs-string">"<span class="hljs-subst">#{setup.output}</span><span class="hljs-subst">#{p}</span>.html"</span>
            parts: p[<span class="hljs-number">1.</span>.].toLowerCase().split <span class="hljs-regexp">/\//</span>
            title: report.getTitle() ? p[<span class="hljs-number">1.</span>.]
          cb()
      , <span class="hljs-function"><span class="hljs-params">(err)</span> -&gt;</span>
        <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err
        map = sortMap map
        mapKeys = Object.keys map
        moduleName = map[mapKeys[<span class="hljs-number">0</span>]].title.replace <span class="hljs-regexp">/\s*[-:].*/</span>, <span class="hljs-string">''</span>
        .replace <span class="hljs-keyword">new</span> RegExp(<span class="hljs-string">"^<span class="hljs-subst">#{setup.brand}</span>\\s+"</span>, <span class="hljs-string">'i'</span>), <span class="hljs-string">''</span>
        async.eachLimit mapKeys, PARALLEL, <span class="hljs-function"><span class="hljs-params">(name, cb)</span> -&gt;</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>create link list</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">          pages = []
          <span class="hljs-keyword">for</span> p, e <span class="hljs-keyword">of</span> map
            pages.push
              depth: <span class="hljs-keyword">if</span> setup.code <span class="hljs-keyword">then</span> e.parts.length - <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>
              title: e.title
              path: p
              link: e.title.replace <span class="hljs-regexp">/^.*?[-:]\s+/</span>, <span class="hljs-string">''</span>
              url: <span class="hljs-string">"<span class="hljs-subst">#{path.relative path.dirname(name), p}</span>.html"</span>
              active: p <span class="hljs-keyword">is</span> name</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>convert to html</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">          file = map[name]
          file.report.toHtml
            style: <span class="hljs-string">'codedoc'</span>
            context:
              moduleName: moduleName
              pages: pages
          , <span class="hljs-function"><span class="hljs-params">(err, html)</span> -&gt;</span>
            html = html.replace <span class="hljs-regexp">///href=\"(?!https?://|/)(.*?)(["<span class="hljs-comment">#])///gi, (_, link, end) -&gt;</span>
              if link.length is 0 or link.match /\.(html|gif|png|jpg)$/i
                "href=\"<span class="hljs-subst">#{link}</span><span class="hljs-subst">#{end}</span>" <span class="hljs-comment"># keep link</span>
              else
                "href=\"<span class="hljs-subst">#{link}</span>.html<span class="hljs-subst">#{end}</span>" <span class="hljs-comment"># add .html</span>
            fs.mkdirs path.dirname(file.dest), (err) -&gt;
              return cb err if err
              fs.writeFile file.dest, html, 'utf8', cb
        , (err) -&gt;
          return cb err if err
          createIndex setup.output, mapKeys[0][1..], cb

createIndex = (dir, link, cb) -&gt;
  file = path.join dir, 'index.html'
  fs.exists file, (exists) -&gt;
    return cb() if exists
    fs.writeFile file, """
      &lt;html&gt;
      &lt;head&gt;
        &lt;meta http-equiv="refresh" content="0; url=<span class="hljs-subst">#{link}</span>" /&gt;
        &lt;script type="text/javascript"&gt;
            window.location.href = "<span class="hljs-subst">#{link}</span>"
        &lt;/script&gt;
        &lt;title&gt;Page Redirection&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        If you are not redirected automatically, follow the link to the
        &lt;a href='<span class="hljs-subst">#{link}</span>'&gt;README&lt;/a&gt;.
      &lt;/body&gt;
      &lt;/html&gt;
      """, cb

processFile = (file, local, setup, cb) -&gt;
  async.waterfall [
</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>get file</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">    (cb) -&gt;
      debug <span class="hljs-string">"analyze <span class="hljs-subst">#{file}</span>"</span>
      fs.readFile file, <span class="hljs-function"><span class="hljs-params">(err, buffer)</span> -&gt;</span>
        <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err
        isBinaryFile buffer, buffer.length, <span class="hljs-function"><span class="hljs-params">(err, binary)</span> -&gt;</span>
          <span class="hljs-keyword">return</span> cb err ? <span class="hljs-string">'BINARY'</span> <span class="hljs-keyword">if</span> err <span class="hljs-keyword">or</span> binary
          cb <span class="hljs-literal">null</span>, buffer.toString <span class="hljs-string">'utf8'</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>analyze language</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">    (contents, cb) -&gt;
      lang = language file, contents
      <span class="hljs-keyword">unless</span> lang
        debug chalk.magenta <span class="hljs-string">"could not detect language of <span class="hljs-subst">#{file}</span>"</span>
        <span class="hljs-keyword">return</span> cb <span class="hljs-string">'UNKNOWN'</span>
      debug chalk.grey <span class="hljs-string">"<span class="hljs-subst">#{lang.name}</span>: <span class="hljs-subst">#{file}</span>"</span>
      cb <span class="hljs-literal">null</span>, contents, lang</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>create report</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">    (contents, lang, cb) -&gt;
      report = <span class="hljs-keyword">new</span> Report()
      report.toc()
      report.raw <span class="hljs-string">'\n'</span> <span class="hljs-comment"># needed in case raw adding will follow</span>
      <span class="hljs-keyword">if</span> lang.name <span class="hljs-keyword">is</span> <span class="hljs-string">'markdown'</span>
        report.raw contents
      <span class="hljs-keyword">else</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>document comments</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">        docs = []
        <span class="hljs-keyword">if</span> lang.doc
          <span class="hljs-keyword">for</span> re <span class="hljs-keyword">in</span> lang.doc
            <span class="hljs-keyword">while</span> match = re.exec contents
              docs.push [match.index, match.index + match[<span class="hljs-number">0</span>].length, match[<span class="hljs-number">1</span>]]</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>sort found sections</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">        docs.sort (a, b) -&gt;
          <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span> <span class="hljs-keyword">if</span> a[<span class="hljs-number">0</span>] &lt; b[<span class="hljs-number">0</span>]
          <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> a[<span class="hljs-number">0</span>] &gt; b[<span class="hljs-number">0</span>]
          <span class="hljs-number">0</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>create report</p>

        </td>
        <td class="code highlight">
          <pre class="coffeescript">        <span class="hljs-keyword">unless</span> docs.length
          <span class="hljs-keyword">return</span> cb <span class="hljs-string">'CODE_DISABLED'</span> <span class="hljs-keyword">unless</span> setup.code
          report.h1 <span class="hljs-string">"File: <span class="hljs-subst">#{path.basename local}</span>"</span>
          report.quote local
          report.code trim(contents), lang.name
          report.p Report.style <span class="hljs-string">'code: style="max-height:none"'</span>
          <span class="hljs-keyword">return</span> cb <span class="hljs-literal">null</span>, report
        pos = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> docs
          <span class="hljs-keyword">if</span> pos &lt; doc[<span class="hljs-number">0</span>] <span class="hljs-keyword">and</span> setup.code
            part = contents[pos..doc[<span class="hljs-number">0</span>]]
            report.code trim(part), lang.name
            <span class="hljs-keyword">if</span> pos <span class="hljs-comment"># set correct line number</span>
              line = contents[<span class="hljs-number">0.</span>.pos].split(<span class="hljs-string">'\n'</span>).length - <span class="hljs-number">1</span>
              report.p Report.style <span class="hljs-string">"code: style=\"counter-reset:line <span class="hljs-subst">#{line}</span>\""</span>
          report.raw doc[<span class="hljs-number">2</span>].replace <span class="hljs-regexp">/\n\s*#3\s+/</span>, <span class="hljs-string">'\n### '</span>
          pos = doc[<span class="hljs-number">1</span>]
        <span class="hljs-keyword">if</span> pos &lt; contents.length <span class="hljs-keyword">and</span> setup.code
          report.code trim(contents[pos..]), lang.name
          <span class="hljs-keyword">if</span> pos <span class="hljs-comment"># set correct line number</span>
            line = contents[<span class="hljs-number">0.</span>.pos].split(<span class="hljs-string">'\n'</span>).length - <span class="hljs-number">1</span>
            report.p Report.style <span class="hljs-string">"code: style=\"counter-reset:line <span class="hljs-subst">#{line}</span>\""</span>
      cb <span class="hljs-literal">null</span>, report
  ], cb

orderFirst = [
  <span class="hljs-string">'readme.*'</span>
  <span class="hljs-string">'readme'</span>
  <span class="hljs-string">'/man'</span>
  <span class="hljs-string">'*.md'</span>
  <span class="hljs-string">'index.*'</span>
  <span class="hljs-string">'/src'</span>
]
orderLast = [
  <span class="hljs-string">'/bin'</span>
  <span class="hljs-string">'/lib'</span>
  <span class="hljs-string">'/var'</span>
  <span class="hljs-string">'.travis.yml'</span>
  <span class="hljs-string">'changelog'</span>
  <span class="hljs-string">'changelog.*'</span>
]
<span class="hljs-function"><span class="hljs-title">sortMap</span> = <span class="hljs-params">(map)</span> -&gt;</span>
  list = Object.keys(map).map (e) -&gt;
    parts = map[e].parts[..<span class="hljs-number">-2</span>].map (p) -&gt; <span class="hljs-string">"/<span class="hljs-subst">#{p}</span>"</span>
    parts.push map[e].parts[map[e].parts.length<span class="hljs-number">-1</span>]
    sortnum = parts.map (p) -&gt;
      check = [p]
      <span class="hljs-keyword">if</span> ~p.indexOf <span class="hljs-string">'.'</span>
        check.push <span class="hljs-string">"*<span class="hljs-subst">#{path.extname p}</span>"</span>
        check.push <span class="hljs-string">"<span class="hljs-subst">#{path.basename p, path.extname p}</span>.*"</span>
      <span class="hljs-keyword">for</span> v, i <span class="hljs-keyword">in</span> orderLast
        <span class="hljs-keyword">continue</span> <span class="hljs-keyword">unless</span> v <span class="hljs-keyword">in</span> check
        <span class="hljs-keyword">return</span> util.string.lpad(<span class="hljs-number">51</span> + i, <span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>) + util.string.rpad(p, <span class="hljs-number">10</span>, <span class="hljs-string">'_'</span>)
      <span class="hljs-keyword">for</span> v, i <span class="hljs-keyword">in</span> orderFirst
        <span class="hljs-keyword">continue</span> <span class="hljs-keyword">unless</span> v <span class="hljs-keyword">in</span> check
        <span class="hljs-keyword">return</span> util.string.lpad(i, <span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>) + util.string.rpad(p, <span class="hljs-number">10</span>, <span class="hljs-string">'_'</span>)
      <span class="hljs-number">50</span> + util.string.rpad(p, <span class="hljs-number">10</span>, <span class="hljs-string">'_'</span>)
    .join <span class="hljs-string">''</span>
    <span class="hljs-string">"<span class="hljs-subst">#{sortnum}</span> =&gt; <span class="hljs-subst">#{e}</span>"</span>
  list.sort()
  list = list.map (e) -&gt; e.split(/ =&gt; /)[<span class="hljs-number">1</span>]
  sorted = {}
  sorted[k] = map[k] <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> list
  sorted
<span class="hljs-function">
<span class="hljs-title">trim</span> = <span class="hljs-params">(code)</span> -&gt;</span>
  code</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
